<!DOCTYPE html>
<html lang="pt-BR" class="dark">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>FinanceX - Controle Financeiro Futurista</title>
    
    <script src="https://cdn.tailwindcss.com"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/pdf.js/3.11.174/pdf.min.js"></script>
    <script>
        tailwind.config = {
            darkMode: 'class',
            theme: {
                extend: {
                    fontFamily: {
                        'sans': ['Inter', 'sans-serif'],
                        'mono': ['JetBrains Mono', 'monospace'],
                    }
                }
            }
        }
    </script>
    
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf-autotable/3.5.23/jspdf.plugin.autotable.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/chartjs-plugin-datalabels/2.2.0/chartjs-plugin-datalabels.min.js"></script>
    <script type="module" src="script.js"></script>
    
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=JetBrains+Mono:wght@400;500&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="style.css">
    
        
</head>
<body class="antialiased text-gray-800 dark:text-gray-200">
    <div class="animated-bg"></div>

    <div id="splash-screen" class="splash-screen">
        <div class="splash-logo">FinanceX</div>
        <div class="loading"></div>
    </div>

    <div id="auth-section" class="hidden">
        <div class="container flex items-center justify-center" style="min-height: 100vh;">
            <div class="glass" style="width: 100%; max-width: 400px; padding: 40px;">
                <div class="text-center mb-6">
                    <h1 class="text-3xl neon-text mb-4">FinanceX</h1>
                    <p class="text-secondary">Controle financeiro do futuro</p>
                </div>
            <div id="login-form-container">
                    <form id="login-form" class="space-y-4">
                        <div class="form-group">
                            <label class="form-label">Email</label>
                            <input type="email" id="login-email" class="form-input" required>
                        </div>
                        <div class="form-group">
                            <label class="form-label">Senha</label>
                            <input type="password" id="login-password" class="form-input" required>
                        </div>
                        <div id="login-error" class="text-red-400 text-sm text-center hidden"></div>
                        <button type="submit" class="btn btn-primary w-full">Entrar</button>
                    </form>
                    <div class="text-center mt-4">
                        <a href="#" id="show-register-link" class="neon-text">Criar conta</a>
                    </div>
                </div>
                
                <div id="register-form-container" class="hidden">
                    <form id="register-form" class="space-y-4">
                        <!-- Nome Completo -->
                        <div class="form-group">
                            <label class="form-label">Nome Completo</label>
                            <div class="relative">
                                <input type="text" id="register-fullname" class="form-input pr-10" required minlength="2" maxlength="100">
                                <div class="absolute inset-y-0 right-0 pr-3 flex items-center">
                                    <span id="fullname-status" class="text-gray-400"></span>
                                </div>
                            </div>
                            <div id="fullname-error" class="text-red-400 text-xs mt-1 hidden"></div>
                        </div>

                        <!-- Email -->
                        <div class="form-group">
                            <label class="form-label">Email</label>
                            <div class="relative">
                                <input type="email" id="register-email" class="form-input pr-10" required>
                                <div class="absolute inset-y-0 right-0 pr-3 flex items-center">
                                    <span id="email-status" class="text-gray-400"></span>
                                </div>
                            </div>
                            <div id="email-error" class="text-red-400 text-xs mt-1 hidden"></div>
                        </div>

                        <!-- Senha -->
                        <div class="form-group">
                            <label class="form-label">Senha</label>
                            <div class="relative">
                                <input type="password" id="register-password" class="form-input pr-20" required minlength="8">
                                <div class="absolute inset-y-0 right-0 pr-3 flex items-center space-x-2">
                                    <button type="button" id="toggle-password" class="text-gray-400 hover:text-white focus:outline-none">
                                        <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z"></path>
                                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"></path>
                                        </svg>
                                    </button>
                                    <span id="password-status" class="text-gray-400"></span>
                                </div>
                            </div>
                            <!-- Indicador de Força da Senha -->
                            <div class="mt-2">
                                <div class="flex space-x-1 mb-2">
                                    <div id="strength-bar-1" class="h-1 flex-1 bg-gray-600 rounded"></div>
                                    <div id="strength-bar-2" class="h-1 flex-1 bg-gray-600 rounded"></div>
                                    <div id="strength-bar-3" class="h-1 flex-1 bg-gray-600 rounded"></div>
                                    <div id="strength-bar-4" class="h-1 flex-1 bg-gray-600 rounded"></div>
                                </div>
                                <div id="password-strength-text" class="text-xs text-gray-400">Digite uma senha</div>
                                <div id="password-requirements" class="text-xs text-gray-400 mt-1 space-y-1">
                                    <div id="req-length" class="flex items-center space-x-2">
                                        <span class="text-gray-400">○</span>
                                        <span>Pelo menos 8 caracteres</span>
                                    </div>
                                    <div id="req-uppercase" class="flex items-center space-x-2">
                                        <span class="text-gray-400">○</span>
                                        <span>Uma letra maiúscula</span>
                                    </div>
                                    <div id="req-lowercase" class="flex items-center space-x-2">
                                        <span class="text-gray-400">○</span>
                                        <span>Uma letra minúscula</span>
                                    </div>
                                    <div id="req-number" class="flex items-center space-x-2">
                                        <span class="text-gray-400">○</span>
                                        <span>Um número</span>
                                    </div>
                                    <div id="req-special" class="flex items-center space-x-2">
                                        <span class="text-gray-400">○</span>
                                        <span>Um caractere especial (!@#$%^&*)</span>
                                    </div>
                                </div>
                            </div>
                            <div id="password-error" class="text-red-400 text-xs mt-1 hidden"></div>
                        </div>

                        <!-- Confirmar Senha -->
                        <div class="form-group">
                            <label class="form-label">Confirmar Senha</label>
                            <div class="relative">
                                <input type="password" id="register-confirm-password" class="form-input pr-10" required>
                                <div class="absolute inset-y-0 right-0 pr-3 flex items-center">
                                    <span id="confirm-password-status" class="text-gray-400"></span>
                                </div>
                            </div>
                            <div id="confirm-password-error" class="text-red-400 text-xs mt-1 hidden"></div>
                        </div>



                        <div id="register-error" class="text-red-400 text-sm text-center hidden"></div>
                        <div id="register-success" class="text-green-400 text-sm text-center hidden"></div>
                        
                        <button type="submit" id="register-submit-btn" class="btn btn-primary w-full" disabled>
                            <span id="register-btn-text">Criar Conta</span>
                            <span id="register-btn-loading" class="hidden">
                                <svg class="animate-spin -ml-1 mr-3 h-5 w-5 text-white inline" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24">
                                    <circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle>
                                    <path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path>
                                </svg>
                                Criando conta...
                            </span>
                        </button>
                    </form>
                    <div class="text-center mt-4">
                        <a href="#" id="show-login-link" class="neon-text">Já tenho conta</a>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div id="main-app" class="container mx-auto p-4 md:p-8 hidden">
        <header class="mb-8 flex justify-between items-center">
            <div>
                <h1 class="neon-text" style="font-family: 'JetBrains Mono', monospace; font-size: 2.25rem;">Dashboard Financeiro</h1>
                <p id="welcome-message" class="text-gray-400 mt-1">Sua vida financeira em um só lugar.</p>
            </div>
            <div class="flex items-center space-x-2">
                <button id="logout-btn" title="Sair" class="p-2 rounded-full text-gray-400 hover:bg-white/10 hover:text-cyan-400 focus:outline-none transition-colors">
                     <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="1.5"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 9V5.25A2.25 2.25 0 0013.5 3h-6a2.25 2.25 0 00-2.25 2.25v13.5A2.25 2.25 0 007.5 21h6a2.25 2.25 0 002.25-2.25V15M12 9l-3 3m0 0l3 3m-3-3h12.75" /></svg>
                </button>
    
            </div>
        </header>
        
        <!-- Botão Menu Mobile -->
        <button id="mobile-nav-toggle" class="mobile-nav-toggle">
            <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16" />
            </svg>
        </button>
        
        <!-- Overlay Mobile -->
        <div id="mobile-nav-overlay" class="mobile-nav-overlay"></div>
        
        <!-- Menu Mobile -->
        <div id="mobile-nav-menu" class="mobile-nav-menu">
            <div class="mb-6">
                <h2 class="neon-text text-lg font-bold mb-4">FinanceX</h2>
            </div>
            <nav>
                <button id="mobile-nav-dashboard" class="nav-btn neon-effect active">📊 Dashboard</button>
                <button id="mobile-nav-executive" class="nav-btn neon-effect">📈 Executivo</button>
                <button id="mobile-nav-budgets" class="nav-btn neon-effect">💰 Orçamentos</button>
                <button id="mobile-nav-calendar" class="nav-btn neon-effect">📅 Calendário</button>
                <button id="mobile-nav-goals" class="nav-btn neon-effect">🎯 Cofrinhos</button>
                <button id="mobile-nav-settings" class="nav-btn neon-effect">⚙️ Configurações</button>
            </nav>
        </div>

        <!-- Navegação Desktop -->
        <nav class="mb-8 p-2 rounded-lg flex flex-wrap space-x-2 justify-center glass nav-container">
            <button id="nav-dashboard" class="nav-btn neon-effect flex-1 py-2 px-4 rounded-md font-semibold active">Dashboard</button>
            <button id="nav-executive" class="nav-btn neon-effect flex-1 py-2 px-4 rounded-md font-semibold">Executivo</button>
            <button id="nav-budgets" class="nav-btn neon-effect flex-1 py-2 px-4 rounded-md font-semibold">Orçamentos</button>
            <button id="nav-calendar" class="nav-btn neon-effect flex-1 py-2 px-4 rounded-md font-semibold">Calendário</button>
            <button id="nav-goals" class="nav-btn neon-effect flex-1 py-2 px-4 rounded-md font-semibold">Cofrinhos</button>
            <button id="nav-settings" class="nav-btn neon-effect flex-1 py-2 px-4 rounded-md font-semibold">Configurações</button>
        </nav>

        <div id="dashboard-page">
            <main class="space-y-6">
                <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
                    <div class="glass-card">
                        <h2 class="text-sm font-medium text-text-secondary">Saldo do Mês</h2>
                        <p id="balance" class="font-mono text-3xl font-bold text-text-primary">R$ 0,00</p>
                    </div>
                    <div class="glass-card">
                        <h2 class="text-sm font-medium text-text-secondary">Total nos Cofrinhos</h2>
                        <p id="total-in-goals" class="font-mono text-3xl font-bold text-text-primary">R$ 0,00</p>
                    </div>
                    <div class="glass-card neon-glow">
                        <h2 class="text-sm font-medium text-text-secondary">Patrimônio Líquido</h2>
                        <p id="net-worth" class="font-mono text-3xl font-bold text-text-primary">R$ 0,00</p>
                    </div>
                    <div class="glass-card">
                        <h2 class="text-sm font-medium text-text-secondary">Receitas (Mês)</h2>
                        <p id="total-income" class="font-mono text-3xl font-bold text-green-400">R$ 0,00</p>
                    </div>
                    <div class="glass-card">
                        <h2 class="text-sm font-medium text-text-secondary">Despesas (Mês)</h2>
                        <p id="total-expense" class="font-mono text-3xl font-bold text-red-400">R$ 0,00</p>
                    </div>
                    <div class="glass-card">
                        <h2 class="text-sm font-medium text-text-secondary">Resumo dos Orçamentos</h2>
                        <p id="budget-summary" class="font-mono text-2xl font-bold text-text-primary">-- / --</p>
                        <p class="text-sm text-text-secondary">dentro do limite</p>
                    </div>
                </div>
                
                <div class="grid grid-cols-2 sm:grid-cols-3 md:grid-cols-5 gap-4">
                    <button id="add-income-btn" class="btn btn-success btn-neon" style="background: var(--success-gradient);">💰 Adicionar Receita</button>
                    <button id="add-expense-btn" class="btn btn-danger btn-neon" style="background: var(--danger-gradient);">💸 Adicionar Despesa</button>
                    <button id="manage-recurring-btn" class="btn btn-primary btn-neon flex items-center justify-center gap-2">
                        <svg class="h-5 w-5" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                            <path d="M21.5 2c.5 0 1.5 0 2.5 1s.5 2.5.5 2.5v12.5c0 1.5-1 2.5-2.5 2.5h-15c-1.5 0-2.5-1-2.5-2.5v-12.5c0-1.5 1-2.5 2.5-2.5h7.5c1.5 0 2 0 2.5 1s.5 2.5.5 2.5v12.5" />
                            <path d="M12 17v-4c0-1.5 1-2.5 2.5-2.5h-2.5c-1.5 0-2.5 1-2.5 2.5v4" />
                        </svg>
                        <span>Recorrentes</span>
                    </button>
                    <button id="manage-categories-btn" class="btn btn-primary btn-neon">🏷️Categorias</button>
                    <button id="generate-report-btn" class="btn col-span-2 sm:col-span-1 md:col-span-1" style="background: var(--primary-gradient);">📊 Gerar Relatório</button>
                    <!-- Botão de enviar relatório removido -->
                </div>
                

                
                <!-- Gráficos de Despesas e Cofrinhos -->
                <div class="grid grid-cols-1 lg:grid-cols-2 gap-6">
                    <div class="glass-card">
                        <h3 class="font-mono font-semibold mb-4 neon-text">Despesas por Categoria</h3>
                        <div class="h-80"><canvas id="expenseChart"></canvas></div>
                    </div>
                    <div class="glass-card">
                        <h3 class="font-mono font-semibold mb-4 neon-text">Despesas Futuras</h3>
                        <div class="h-80"><canvas id="futureExpensesChart"></canvas></div>
                    </div>

                </div>
                <div class="glass-card">
                    <h3 class="font-mono font-semibold mb-4 neon-text">Histórico de Saldo</h3>
                    <div class="h-80"><canvas id="balanceHistoryChart"></canvas></div>
                </div>
                <div class="glass-card">
                    <h3 class="font-mono font-semibold mb-4 neon-text">Transações</h3>
                    <form id="filter-form" class="mb-6 grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-5 gap-4 items-end">
                        <div class="col-span-1 sm:col-span-2 md:col-span-3 lg:col-span-1">
                            <label for="filter-description" class="block text-sm font-medium text-text-secondary">Descrição</label>
                            <input type="text" id="filter-description" placeholder="Ex: Almoço" class="mt-1 block w-full form-input">
                        </div>
                        <div>
                            <label for="filter-category" class="block text-sm font-medium text-text-secondary">Categoria</label>
                            <select id="filter-category" class="form-select w-full p-3 rounded-lg bg-white/5 border border-white/10">
                                <option value="">Todas</option>
                            </select>
                        </div>
                        <div>
                            <label for="filter-tags" class="block text-sm font-medium text-text-secondary">Tags</label>
                            <select id="filter-tags" class="form-select w-full p-3 rounded-lg bg-white/5 border border-white/10">
                                <option value="">Todas</option>
                            </select>
                        </div>
                        <div>
                            <label for="filter-start-date" class="block text-sm font-medium text-text-secondary">De</label>
                            <input type="date" id="filter-start-date" class="mt-1 block w-full form-input">
                        </div>
                        <div>
                            <label for="filter-end-date" class="block text-sm font-medium text-text-secondary">Até</label>
                            <input type="date" id="filter-end-date" class="mt-1 block w-full form-input">
                        </div>
                        <div class="flex space-x-2">
                            <button type="submit" class="btn btn-primary btn-dashboard w-full">Filtrar</button>
                            <button type="button" id="clear-filters-btn" class="btn btn-ghost btn-dashboard w-full">Limpar</button>
                        </div>
                    </form>
                    <div id="transactions-list" class="space-y-4 max-h-96 overflow-y-auto pr-2"><p class="text-center">Nenhuma transação encontrada.</p></div>
                </div>
            </main>
        </div>

        <div id="budgets-page" class="hidden">
            <header class="flex justify-between items-center mb-6">
                <h2 class="font-mono text-2xl font-bold neon-text">Orçamentos do Mês</h2>
                <button id="manage-budgets-btn" class="btn btn-primary btn-dashboard">Definir Orçamentos</button>
            </header>
            <div id="budgets-list" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6"></div>
        </div>
        
        <div id="calendar-page" class="hidden">
            <div class="glass-card">
                <div id="calendar-header" class="flex justify-between items-center mb-4">
                    <button id="prev-month-btn" class="p-2 rounded-md hover:bg-white/10">&lt;</button>
                    <h2 id="month-year-title" class="font-mono text-xl font-bold neon-text"></h2>
                    <button id="next-month-btn" class="p-2 rounded-md hover:bg-white/10">&gt;</button>
                </div>
                <div id="calendar-grid" class="grid grid-cols-7 gap-px bg-white/5 border border-white/10 rounded-lg overflow-hidden">
                    </div>
            </div>
        </div>

        <div id="goals-page" class="hidden">
             <header class="flex justify-between items-center mb-6">
                <h2 class="font-mono text-2xl font-bold neon-text">Meus Cofrinhos</h2>
                <button id="add-goal-btn" class="btn btn-primary">Adicionar Novo Cofrinho</button>
            </header>
            <div id="goals-list" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6"></div>
        </div>

        <div id="settings-page" class="hidden">
            <header class="mb-8">
                <h2 class="font-mono text-2xl font-bold neon-text mb-2">Configurações</h2>
                <p class="text-gray-400">Personalize sua experiência no FinanceX</p>
            </header>

            <!-- Seção API -->
            <div class="glass-card mb-6">
                <h3 class="font-semibold text-cyan-400 mb-4 text-lg">🤖 Integração IA</h3>
                <form id="settings-form">
                    <div class="form-group">
                        <label for="api-key-input" class="form-label">Chave da API do Gemini</label>
                        <input type="password" id="api-key-input" class="form-input" placeholder="Cole sua chave aqui">
                        <p class="text-xs text-gray-500 mt-1">Sua chave é salva apenas no seu navegador.</p>
                    </div>
                    <button type="submit" class="btn btn-primary">Salvar Chave API</button>
                </form>
            </div>


            
            <!-- Upload de Extrato Bancário -->
            <div class="glass-card mb-6">
                <h3 class="font-semibold text-green-400 mb-4 text-lg">📄 Importar Extrato Bancário</h3>
                <div class="space-y-4">
                    <p class="text-sm text-gray-400">Faça upload do PDF do seu extrato bancário para importar transações automaticamente</p>
                    
                    <div class="relative">
                        <input type="file" id="pdf-file-input" accept=".pdf" class="hidden">
                        <button type="button" id="upload-pdf-btn" class="btn btn-primary w-full flex items-center justify-center space-x-2">
                            <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M9 19l3 3m0 0l3-3m-3 3V10"></path>
                            </svg>
                            <span>Selecionar PDF do Banco</span>
                        </button>
                    </div>
                    
                    <div id="pdf-upload-status" class="hidden">
                        <div class="bg-blue-500/10 border border-blue-400/20 rounded-lg p-3">
                            <div class="flex items-center space-x-2 mb-2">
                                <div class="animate-spin rounded-full h-4 w-4 border-b-2 border-blue-400"></div>
                                <span class="text-sm text-blue-400">Processando PDF...</span>
                            </div>
                            <div class="w-full bg-gray-700 rounded-full h-2">
                                <div id="pdf-progress-bar" class="bg-blue-400 h-2 rounded-full transition-all duration-300" style="width: 0%"></div>
                            </div>
                            <p id="pdf-status-text" class="text-xs text-gray-400 mt-1">Extraindo texto do documento...</p>
                        </div>
                    </div>
                    
                    <div id="pdf-results" class="hidden">
                        <div class="bg-green-500/10 border border-green-400/20 rounded-lg p-3">
                            <h4 class="text-sm font-semibold text-green-400 mb-2">Transações Encontradas:</h4>
                            <div id="pdf-transactions-preview" class="space-y-1 max-h-32 overflow-y-auto text-xs">
                                <!-- Transações serão listadas aqui -->
                            </div>
                            <div class="flex space-x-2 mt-3">
                                <button id="confirm-pdf-import" class="btn btn-success btn-sm flex-1">Importar Todas</button>
                                <button id="cancel-pdf-import" class="btn btn-ghost btn-sm flex-1">Cancelar</button>
                            </div>
                        </div>
                    </div>
                    
                    <div class="text-xs text-gray-500">
                        <p>• Suporta extratos dos principais bancos brasileiros</p>
                        <p>• Detecta automaticamente receitas e despesas</p>
                        <p>• Categoriza transações usando IA</p>
                        <p>• Formatos suportados: PDF com texto selecionável</p>
                        <p>• Exporte regularmente para segurança</p>
                    </div>
                </div>
            </div>

            <!-- Seção Alertas -->
            <div class="glass-card mb-6">
                <h3 class="font-semibold text-yellow-400 mb-4 text-lg">🔔 Alertas</h3>
                <div class="space-y-3">
                    <label class="flex items-center space-x-3">
                        <input type="checkbox" id="budget-alerts-enabled" class="form-checkbox">
                        <span class="text-sm">Alertas de orçamento (80% do limite)</span>
                    </label>
                    <label class="flex items-center space-x-3">
                        <input type="checkbox" id="backup-reminders-enabled" class="form-checkbox">
                        <span class="text-sm">Lembrete de backup semanal</span>
                    </label>
                </div>
            </div>

            <!-- Seção Push Notifications -->
            <div class="glass-card mb-6">
                <h3 class="font-semibold text-purple-400 mb-4 text-lg">🔔 Notificações Push</h3>
                <div class="space-y-4">
                    <div class="flex items-center justify-between">
                        <div>
                            <p class="text-sm font-medium">Status das Notificações</p>
                            <p id="notification-status" class="text-xs text-gray-400">Verificando...</p>
                        </div>
                        <button id="toggle-notifications-btn" class="btn btn-secondary">
                            Ativar Notificações
                        </button>
                    </div>
                    <div class="space-y-2">
                        <label class="flex items-center space-x-3">
                            <input type="checkbox" id="goal-notifications-enabled" class="form-checkbox" checked>
                            <span class="text-sm">Notificar quando atingir metas</span>
                        </label>
                        <label class="flex items-center space-x-3">
                            <input type="checkbox" id="budget-notifications-enabled" class="form-checkbox" checked>
                            <span class="text-sm">Alertas de orçamento ultrapassado</span>
                        </label>
                        <label class="flex items-center space-x-3">
                            <input type="checkbox" id="backup-notifications-enabled" class="form-checkbox" checked>
                            <span class="text-sm">Lembretes diários de backup</span>
                        </label>
                        <label class="flex items-center space-x-3">
                            <input type="checkbox" id="achievement-notifications-enabled" class="form-checkbox" checked>
                            <span class="text-sm">Conquistas e marcos financeiros</span>
                        </label>
                    </div>
                    <div class="mt-4">
                        <button id="test-notification-btn" class="btn btn-primary w-full">
                            🧪 Enviar Notificação de Teste
                        </button>
                    </div>
                </div>
            </div>

            <!-- Seção Autenticação 2FA -->
            <div class="glass-card mb-6">
                <h3 class="font-semibold text-green-400 mb-4 text-lg">🔐 Autenticação de Dois Fatores (2FA)</h3>
                <div class="space-y-4">
                    <div class="flex items-center justify-between p-4 bg-blue-500/10 rounded-lg border border-blue-400/20">
                        <div>
                            <p class="text-sm font-medium text-blue-300">Status do 2FA</p>
                            <p id="twofa-status" class="text-xs text-gray-400">Desativado - Sua conta não está protegida</p>
                        </div>
                        <div class="flex items-center space-x-2">
                            <span id="twofa-status-icon" class="w-3 h-3 rounded-full bg-red-400"></span>
                            <button id="toggle-2fa-btn" class="btn btn-primary">
                                Ativar 2FA
                            </button>
                        </div>
                    </div>
                    
                    <div id="twofa-setup-section" class="hidden space-y-4">
                        <div class="p-4 bg-yellow-500/10 rounded-lg border border-yellow-400/20">
                            <h4 class="font-semibold text-yellow-300 mb-2">📱 Configurar Aplicativo Autenticador</h4>
                            <p class="text-sm text-gray-400 mb-3">Escaneie o código QR com seu aplicativo autenticador (Google Authenticator, Authy, etc.)</p>
                            
                            <div class="flex flex-col items-center space-y-4">
                                <div id="qr-code-container" class="p-4 bg-white rounded-lg">
                                    <!-- QR Code será gerado aqui -->
                                </div>
                                
                                <div class="text-center">
                                    <p class="text-xs text-gray-400 mb-2">Ou digite manualmente a chave:</p>
                                    <code id="manual-key" class="text-xs bg-gray-700 px-2 py-1 rounded text-green-400"></code>
                                </div>
                            </div>
                        </div>
                        
                        <div class="p-4 bg-green-500/10 rounded-lg border border-green-400/20">
                            <h4 class="font-semibold text-green-300 mb-2">✅ Verificar Configuração</h4>
                            <p class="text-sm text-gray-400 mb-3">Digite o código de 6 dígitos do seu aplicativo para confirmar:</p>
                            
                            <div class="flex space-x-2">
                                <input type="text" id="verification-code" class="form-input flex-1" placeholder="000000" maxlength="6" pattern="[0-9]{6}">
                                <button id="verify-2fa-btn" class="btn btn-success">
                                    Verificar
                                </button>
                            </div>
                        </div>
                        
                        <div class="p-4 bg-purple-500/10 rounded-lg border border-purple-400/20">
                            <h4 class="font-semibold text-purple-300 mb-2">🔑 Códigos de Backup</h4>
                            <p class="text-sm text-gray-400 mb-3">Guarde estes códigos em local seguro. Cada um pode ser usado apenas uma vez:</p>
                            
                            <div id="backup-codes" class="grid grid-cols-2 gap-2 text-xs font-mono">
                                <!-- Códigos de backup serão gerados aqui -->
                            </div>
                            
                            <button id="download-backup-codes" class="btn btn-secondary mt-3 w-full">
                                📥 Baixar Códigos de Backup
                            </button>
                        </div>
                    </div>
                    
                    <div id="twofa-active-section" class="hidden space-y-4">
                        <div class="p-4 bg-green-500/10 rounded-lg border border-green-400/20">
                            <h4 class="font-semibold text-green-300 mb-2">✅ 2FA Ativo</h4>
                            <p class="text-sm text-gray-400 mb-3">Sua conta está protegida com autenticação de dois fatores.</p>
                            
                            <div class="flex space-x-2">
                                <button id="regenerate-backup-codes" class="btn btn-secondary">
                                    🔄 Gerar Novos Códigos
                                </button>
                                <button id="disable-2fa-btn" class="btn btn-danger">
                                    ❌ Desativar 2FA
                                </button>
                            </div>
                        </div>
                        
                        <div class="p-4 bg-blue-500/10 rounded-lg border border-blue-400/20">
                            <h4 class="font-semibold text-blue-300 mb-2">📊 Estatísticas de Segurança</h4>
                            <div class="grid grid-cols-2 gap-4 text-sm">
                                <div>
                                    <p class="text-gray-400">Ativado em:</p>
                                    <p id="twofa-enabled-date" class="text-blue-300 font-semibold">--</p>
                                </div>
                                <div>
                                    <p class="text-gray-400">Último uso:</p>
                                    <p id="twofa-last-used" class="text-blue-300 font-semibold">--</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>





            <!-- Seção Informações do Usuário -->
            <div class="glass-card mb-6">
                <h3 class="font-semibold text-blue-400 mb-4 text-lg">👤 Informações do Usuário</h3>
                <div class="space-y-4">
                    <div class="p-4 bg-blue-500/10 rounded-lg border border-blue-400/20">
                        <h4 class="font-semibold text-blue-300 mb-3">📋 Dados Pessoais</h4>
                        
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                            <!-- Nome Completo -->
                            <div class="form-group">
                                <label class="form-label">Nome Completo</label>
                                <div class="relative">
                                    <input type="text" id="user-fullname" class="form-input pr-10" placeholder="Seu nome completo">
                                    <div class="absolute inset-y-0 right-0 pr-3 flex items-center">
                                        <span id="user-fullname-status" class="text-gray-400"></span>
                                    </div>
                                </div>
                                <div id="user-fullname-error" class="text-red-400 text-xs mt-1 hidden"></div>
                            </div>

                            <!-- Renda Mensal -->
                            <div class="form-group">
                                <label class="form-label">Renda Mensal (R$)</label>
                                <div class="relative">
                                    <input type="number" id="user-income" class="form-input pr-10" placeholder="0,00" step="0.01">
                                    <div class="absolute inset-y-0 right-0 pr-3 flex items-center">
                                        <span id="user-income-status" class="text-gray-400"></span>
                                    </div>
                                </div>
                                <div id="user-income-error" class="text-red-400 text-xs mt-1 hidden"></div>
                            </div>
                        </div>

                        <!-- Botões de Ação -->
                        <div class="flex space-x-3 mt-6">
                            <button id="save-user-info-btn" class="btn btn-primary">
                                <span id="save-user-info-text">💾 Salvar Informações</span>
                                <span id="save-user-info-loading" class="hidden">
                                    <svg class="animate-spin -ml-1 mr-3 h-5 w-5 text-white inline" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24">
                                        <circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle>
                                        <path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path>
                                    </svg>
                                    Salvando...
                                </span>
                            </button>
                            <button id="change-password-btn" class="btn btn-secondary">
                                🔐 Alterar Senha
                            </button>
                        </div>
                    </div>
                </div>
            </div>



            <!-- Seção Sobre -->
            <div class="glass-card">
                <h3 class="font-semibold text-purple-400 mb-4 text-lg">ℹ️ Sobre o FinanceX</h3>
                <div class="space-y-2 text-sm text-gray-400">
                    <p><strong>Versão:</strong> 2.0.0</p>
                    <p><strong>Desenvolvido por:</strong> Equipe FinanceX</p>
                    <p><strong>Última atualização:</strong> Setembro 2025</p>
                    <p class="mt-4">Sistema de controle financeiro pessoal com recursos avançados de IA, análise preditiva e relatórios automatizados.</p>
                </div>
            </div>
        </div>

        <div id="executive-page" class="hidden">
            <header class="mb-8">
                <h2 class="font-mono text-2xl font-bold neon-text mb-2">Dashboard Executivo</h2>
                <p class="text-gray-400">Visão estratégica e KPIs financeiros avançados</p>
            </header>

            <!-- KPIs Principais -->
            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8">
                <div class="glass-card text-center">
                    <h3 class="text-sm font-medium text-gray-400 mb-2">ROI Mensal</h3>
                    <p id="monthly-roi" class="text-3xl font-bold text-green-400">--</p>
                    <p class="text-xs text-gray-500 mt-1">vs mês anterior</p>
                </div>
                <div class="glass-card text-center">
                    <h3 class="text-sm font-medium text-gray-400 mb-2">Taxa de Poupança</h3>
                    <p id="savings-rate" class="text-3xl font-bold text-blue-400">--</p>
                    <p class="text-xs text-gray-500 mt-1">da renda mensal</p>
                </div>
                <div class="glass-card text-center">
                    <h3 class="text-sm font-medium text-gray-400 mb-2">Burn Rate</h3>
                    <p id="burn-rate" class="text-3xl font-bold text-orange-400">--</p>
                    <p class="text-xs text-gray-500 mt-1">gastos/mês</p>
                </div>
                <div class="glass-card text-center">
                    <h3 class="text-sm font-medium text-gray-400 mb-2">Score Financeiro</h3>
                    <p id="financial-score" class="text-3xl font-bold text-purple-400">--</p>
                    <p class="text-xs text-gray-500 mt-1">Calculando...</p>
                </div>
            </div>

            <!-- Gráficos Avançados -->
            <div class="grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8">
                <div class="glass-card">
                    <h3 class="font-mono font-semibold mb-4 neon-text">Tendência de Patrimônio</h3>
                    <div class="h-80"><canvas id="wealthTrendChart"></canvas></div>
                </div>
                <div class="glass-card">
                    <h3 class="font-mono font-semibold mb-4 neon-text">Análise de Fluxo de Caixa</h3>
                    <div class="h-80"><canvas id="cashFlowChart"></canvas></div>
                </div>
            </div>

            <!-- Comparação Temporal -->
            <div class="mb-8">
                <div class="glass-card">
                    <div class="flex justify-between items-center mb-6">
                        <h3 class="font-mono font-semibold neon-text">📈 Comparação Temporal</h3>
                        <div class="flex space-x-2">
                            <button id="comparison-monthly" class="comparison-btn active px-4 py-2 rounded-lg bg-blue-500/20 text-blue-300 border border-blue-400/30">Mensal</button>
                            <button id="comparison-yearly" class="comparison-btn px-4 py-2 rounded-lg bg-gray-500/20 text-gray-300 border border-gray-400/30">Anual</button>
                        </div>
                    </div>
                    
                    <div class="grid grid-cols-1 lg:grid-cols-2 gap-6">
                        <div>
                            <h4 class="text-sm font-medium text-gray-400 mb-3">Receitas vs Despesas</h4>
                            <div class="h-64"><canvas id="comparisonIncomeExpenseChart"></canvas></div>
                        </div>
                        <div>
                            <h4 class="text-sm font-medium text-gray-400 mb-3">Evolução do Saldo</h4>
                            <div class="h-64"><canvas id="comparisonBalanceChart"></canvas></div>
                        </div>
                    </div>
                    
                    <div class="mt-6 grid grid-cols-1 md:grid-cols-3 gap-4">
                        <div class="text-center p-4 bg-green-500/10 rounded-lg border border-green-400/20">
                            <p class="text-sm text-gray-400">Melhor Mês</p>
                            <p id="best-month" class="text-lg font-bold text-green-400">--</p>
                            <p id="best-month-value" class="text-sm text-green-300">--</p>
                        </div>
                        <div class="text-center p-4 bg-blue-500/10 rounded-lg border border-blue-400/20">
                            <p class="text-sm text-gray-400">Média Mensal</p>
                            <p id="average-month" class="text-lg font-bold text-blue-400">--</p>
                            <p id="average-trend" class="text-sm text-blue-300">--</p>
                        </div>
                        <div class="text-center p-4 bg-purple-500/10 rounded-lg border border-purple-400/20">
                            <p class="text-sm text-gray-400">Projeção Anual</p>
                            <p id="yearly-projection" class="text-lg font-bold text-purple-400">R$ 22.200</p>
                            <p id="projection-confidence" class="text-sm text-purple-300">85% confiança</p>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Relatório de Saúde Financeira -->
            <div class="mb-8">
                <div class="glass-card">
                    <div class="flex justify-between items-center mb-6">
                        <h3 class="font-mono font-semibold neon-text">🏥 Relatório de Saúde Financeira</h3>
                        <div class="flex items-center space-x-2">
                            <div id="health-score-badge" class="px-3 py-1 rounded-full bg-green-500/20 text-green-300 border border-green-400/30">
                                <span class="text-sm font-semibold">Score: </span>
                                <span id="health-score-display" class="font-bold">847</span>
                            </div>
                        </div>
                    </div>
                    
                    <div class="grid grid-cols-1 lg:grid-cols-2 gap-6 mb-6">
                        <!-- Indicadores de Saúde -->
                        <div>
                            <h4 class="text-sm font-medium text-gray-400 mb-4">Indicadores de Saúde</h4>
                            <div class="space-y-4">
                                <div class="flex items-center justify-between">
                                    <div class="flex items-center space-x-3">
                                        <div id="emergency-fund-icon" class="w-3 h-3 rounded-full bg-green-400"></div>
                                        <span class="text-sm">Reserva de Emergência</span>
                                    </div>
                                    <span id="emergency-fund-status" class="text-sm font-semibold text-green-400">Adequada</span>
                                </div>
                                <div class="flex items-center justify-between">
                                    <div class="flex items-center space-x-3">
                                        <div id="debt-ratio-icon" class="w-3 h-3 rounded-full bg-blue-400"></div>
                                        <span class="text-sm">Relação Dívida/Renda</span>
                                    </div>
                                    <span id="debt-ratio-status" class="text-sm font-semibold text-blue-400">Baixa</span>
                                </div>
                                <div class="flex items-center justify-between">
                                    <div class="flex items-center space-x-3">
                                        <div id="savings-consistency-icon" class="w-3 h-3 rounded-full bg-purple-400"></div>
                                        <span class="text-sm">Consistência de Poupança</span>
                                    </div>
                                    <span id="savings-consistency-status" class="text-sm font-semibold text-purple-400">Excelente</span>
                                </div>
                                <div class="flex items-center justify-between">
                                    <div class="flex items-center space-x-3">
                                        <div id="expense-control-icon" class="w-3 h-3 rounded-full bg-cyan-400"></div>
                                        <span class="text-sm">Controle de Gastos</span>
                                    </div>
                                    <span id="expense-control-status" class="text-sm font-semibold text-cyan-400">Bom</span>
                                </div>
                            </div>
                        </div>
                        
                        <!-- Gráfico de Saúde -->
                        <div>
                            <h4 class="text-sm font-medium text-gray-400 mb-4">Evolução da Saúde Financeira</h4>
                            <div class="h-48"><canvas id="healthTrendChart"></canvas></div>
                        </div>
                    </div>
                    
                    <!-- Recomendações -->
                    <div>
                        <h4 class="text-sm font-medium text-gray-400 mb-4">🎯 Recomendações Personalizadas</h4>
                        <div id="health-recommendations" class="grid grid-cols-1 md:grid-cols-2 gap-4">
                            <div class="p-4 bg-blue-500/10 rounded-lg border border-blue-400/20">
                                <div class="flex items-start space-x-3">
                                    <div class="w-6 h-6 rounded-full bg-blue-500 flex items-center justify-center text-xs font-bold text-white">1</div>
                                    <div>
                                        <h5 class="font-semibold text-blue-300 mb-1">Diversificar Investimentos</h5>
                                        <p class="text-sm text-gray-400">Considere alocar 15% da renda em investimentos de longo prazo para melhorar o crescimento patrimonial.</p>
                                    </div>
                                </div>
                            </div>
                            <div class="p-4 bg-green-500/10 rounded-lg border border-green-400/20">
                                <div class="flex items-start space-x-3">
                                    <div class="w-6 h-6 rounded-full bg-green-500 flex items-center justify-center text-xs font-bold text-white">2</div>
                                    <div>
                                        <h5 class="font-semibold text-green-300 mb-1">Otimizar Categoria Lazer</h5>
                                        <p class="text-sm text-gray-400">Gastos com lazer estão 20% acima da média. Considere reduzir R$ 200/mês nesta categoria.</p>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Sistema de Lembretes de Pagamento -->
            <div class="mb-8">
                <div class="glass-card">
                    <div class="flex justify-between items-center mb-6">
                        <h3 class="font-mono font-semibold neon-text">⏰ Lembretes de Pagamento</h3>
                        <button id="add-reminder-btn" class="btn btn-primary">
                            + Novo Lembrete
                        </button>
                    </div>
                    
                    <div class="grid grid-cols-1 lg:grid-cols-2 gap-6">
                        <!-- Próximos Vencimentos -->
                        <div>
                            <h4 class="text-sm font-medium text-gray-400 mb-4">📅 Próximos Vencimentos</h4>
                            <div id="upcoming-reminders" class="space-y-3 max-h-64 overflow-y-auto">
                                <div class="p-3 bg-red-500/10 rounded-lg border border-red-400/20">
                                    <div class="flex items-center justify-between">
                                        <div>
                                            <p class="font-semibold text-red-300">Cartão de Crédito</p>
                                            <p class="text-sm text-gray-400">Vence em 2 dias - R$ 1.250,00</p>
                                        </div>
                                        <div class="text-right">
                                            <p class="text-xs text-red-400">15/01/2024</p>
                                            <button class="text-xs text-blue-400 hover:underline">Pagar</button>
                                        </div>
                                    </div>
                                </div>
                                <div class="p-3 bg-yellow-500/10 rounded-lg border border-yellow-400/20">
                                    <div class="flex items-center justify-between">
                                        <div>
                                            <p class="font-semibold text-yellow-300">Aluguel</p>
                                            <p class="text-sm text-gray-400">Vence em 5 dias - R$ 800,00</p>
                                        </div>
                                        <div class="text-right">
                                            <p class="text-xs text-yellow-400">18/01/2024</p>
                                            <button class="text-xs text-blue-400 hover:underline">Pagar</button>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <!-- Calendário de Pagamentos -->
                        <div>
                            <h4 class="text-sm font-medium text-gray-400 mb-4">📊 Resumo Mensal</h4>
                            <div class="space-y-4">
                                <div class="p-4 bg-blue-500/10 rounded-lg border border-blue-400/20">
                                    <div class="flex items-center justify-between mb-2">
                                        <span class="text-sm text-blue-300">Total a Pagar</span>
                                        <span id="total-pending" class="font-bold text-blue-400">R$ 3.450,00</span>
                                    </div>
                                    <div class="w-full bg-gray-700 rounded-full h-2">
                                        <div class="bg-blue-500 h-2 rounded-full" style="width: 65%"></div>
                                    </div>
                                    <p class="text-xs text-gray-400 mt-1">65% do orçamento mensal</p>
                                </div>
                                
                                <div class="grid grid-cols-2 gap-3">
                                    <div class="text-center p-3 bg-green-500/10 rounded-lg border border-green-400/20">
                                        <p class="text-lg font-bold text-green-400" id="paid-count">8</p>
                                        <p class="text-xs text-gray-400">Pagos</p>
                                    </div>
                                    <div class="text-center p-3 bg-orange-500/10 rounded-lg border border-orange-400/20">
                                        <p class="text-lg font-bold text-orange-400" id="pending-count">4</p>
                                        <p class="text-xs text-gray-400">Pendentes</p>
                                    </div>
                                </div>
                                
                                <div class="mt-4">
                                    <h5 class="text-xs font-medium text-gray-400 mb-2">Próximos 7 dias</h5>
                                    <div id="week-calendar" class="grid grid-cols-7 gap-1">
                                        <!-- Calendário será gerado dinamicamente -->
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Configurações de Alertas -->
                    <div class="mt-6 p-4 bg-purple-500/10 rounded-lg border border-purple-400/20">
                        <h5 class="font-semibold text-purple-300 mb-3">⚙️ Configurações de Alertas</h5>
                        <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
                            <div>
                                <label class="block text-sm text-gray-200 mb-1">Alertar com antecedência</label>
                                <select id="alert-days" class="form-select w-full p-3 rounded-lg bg-white/5 border border-white/10 text-black">
                                    <option value="1">1 dia</option>
                                    <option value="3" selected>3 dias</option>
                                    <option value="7">7 dias</option>
                                    <option value="15">15 dias</option>
                                </select>
                            </div>
                            <div>
                                <label class="block text-sm text-gray-400 mb-1">Horário do alerta</label>
                                <input type="time" id="alert-time" class="form-input" value="09:00">
                            </div>
                            <div class="flex items-end">
                                <button id="save-alert-settings" class="btn btn-secondary w-full">
                                    Salvar Configurações
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Sistema de Alertas de Gastos Excessivos -->
            <div class="mb-8">
                <div class="glass-card">
                    <div class="flex justify-between items-center mb-6">
                        <h3 class="font-mono font-semibold neon-text">🚨 Alertas de Gastos Excessivos</h3>
                        <button id="configure-expense-alerts-btn" class="btn btn-primary">
                            ⚙️ Configurar Limites
                        </button>
                    </div>
                    
                    <div class="grid grid-cols-1 lg:grid-cols-2 gap-6">
                        <!-- Status dos Alertas -->
                        <div>
                            <h4 class="text-sm font-medium text-gray-400 mb-4">📊 Status Atual dos Gastos</h4>
                            <div id="expense-alerts-status" class="space-y-3 max-h-64 overflow-y-auto">
                                <div class="p-3 bg-green-500/10 rounded-lg border border-green-400/20">
                                    <div class="flex items-center justify-between">
                                        <div>
                                            <p class="font-semibold text-green-300">Alimentação</p>
                                            <p class="text-sm text-gray-400">R$ 450 de R$ 800 (56%)</p>
                                        </div>
                                        <div class="text-right">
                                            <span class="text-xs px-2 py-1 bg-green-500/20 text-green-300 rounded-full">Normal</span>
                                        </div>
                                    </div>
                                    <div class="mt-2 w-full bg-gray-700 rounded-full h-2">
                                        <div class="bg-green-500 h-2 rounded-full" style="width: 56%"></div>
                                    </div>
                                </div>
                                <div class="p-3 bg-yellow-500/10 rounded-lg border border-yellow-400/20">
                                    <div class="flex items-center justify-between">
                                        <div>
                                            <p class="font-semibold text-yellow-300">Transporte</p>
                                            <p class="text-sm text-gray-400">R$ 320 de R$ 400 (80%)</p>
                                        </div>
                                        <div class="text-right">
                                            <span class="text-xs px-2 py-1 bg-yellow-500/20 text-yellow-300 rounded-full">Atenção</span>
                                        </div>
                                    </div>
                                    <div class="mt-2 w-full bg-gray-700 rounded-full h-2">
                                        <div class="bg-yellow-500 h-2 rounded-full" style="width: 80%"></div>
                                    </div>
                                </div>
                                <div class="p-3 bg-red-500/10 rounded-lg border border-red-400/20">
                                    <div class="flex items-center justify-between">
                                        <div>
                                            <p class="font-semibold text-red-300">Lazer</p>
                                            <p class="text-sm text-gray-400">R$ 650 de R$ 500 (130%)</p>
                                        </div>
                                        <div class="text-right">
                                            <span class="text-xs px-2 py-1 bg-red-500/20 text-red-300 rounded-full">Excedido</span>
                                        </div>
                                    </div>
                                    <div class="mt-2 w-full bg-gray-700 rounded-full h-2">
                                        <div class="bg-red-500 h-2 rounded-full" style="width: 100%"></div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <!-- Configurações Rápidas -->
                        <div>
                            <h4 class="text-sm font-medium text-gray-400 mb-4">⚡ Configurações Rápidas</h4>
                            <div class="space-y-4">
                                <div class="p-4 bg-blue-500/10 rounded-lg border border-blue-400/20">
                                    <div class="flex items-center justify-between mb-3">
                                        <span class="text-sm font-medium text-blue-300">Alertas Ativos</span>
                                        <label class="switch">
                                            <input type="checkbox" id="expense-alerts-enabled" checked>
                                            <span class="slider"></span>
                                        </label>
                                    </div>
                                    <p class="text-xs text-gray-400">Receber notificações quando gastos excederem limites</p>
                                </div>
                                
                                <div class="p-4 bg-purple-500/10 rounded-lg border border-purple-400/20">
                                    <h5 class="text-sm font-medium text-purple-300 mb-2">Limites de Alerta</h5>
                                    <div class="space-y-2">
                                        <div class="flex justify-between items-center">
                                            <span class="text-xs text-gray-400">Aviso (Amarelo)</span>
                                            <div class="flex items-center space-x-2">
                                                <input type="range" id="warning-threshold" min="50" max="95" value="80" class="w-16">
                                                <span id="warning-value" class="text-xs text-yellow-400 w-8">80%</span>
                                            </div>
                                        </div>
                                        <div class="flex justify-between items-center">
                                            <span class="text-xs text-gray-400">Crítico (Vermelho)</span>
                                            <div class="flex items-center space-x-2">
                                                <input type="range" id="critical-threshold" min="90" max="150" value="100" class="w-16">
                                                <span id="critical-value" class="text-xs text-red-400 w-8">100%</span>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                
                                <div class="grid grid-cols-2 gap-3">
                                    <div class="text-center p-3 bg-orange-500/10 rounded-lg border border-orange-400/20">
                                        <p class="text-lg font-bold text-orange-400" id="alerts-today">3</p>
                                        <p class="text-xs text-gray-400">Alertas Hoje</p>
                                    </div>
                                    <div class="text-center p-3 bg-cyan-500/10 rounded-lg border border-cyan-400/20">
                                        <p class="text-lg font-bold text-cyan-400" id="categories-monitored">8</p>
                                        <p class="text-xs text-gray-400">Categorias</p>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <!-- Reset Mensal Automático -->
                        <div>
                            <h4 class="text-sm font-medium text-gray-400 mb-4">📅 Reset Mensal Automático</h4>
                            <div class="space-y-4">
                                <div class="p-4 bg-green-500/10 rounded-lg border border-green-400/20">
                                    <div class="flex items-center justify-between mb-3">
                                        <span class="text-sm font-medium text-green-300">Reset Automático Ativo</span>
                                        <span class="text-xs text-green-400 bg-green-500/20 px-2 py-1 rounded">✓ Ativo</span>
                                    </div>
                                    <p class="text-xs text-gray-400 mb-3">Remove apenas transações pontuais do mês atual. Preserva: recorrentes, parcelas e saldos dos cofrinhos</p>
                                    <button id="test-monthly-reset" class="btn btn-secondary btn-sm w-full">
                                        🧪 Testar Reset Agora
                                    </button>
                                </div>
                                
                                <div class="p-3 bg-blue-500/10 rounded-lg border border-blue-400/20">
                                    <div class="flex items-center justify-between">
                                        <span class="text-xs text-blue-300">Último Reset</span>
                                        <span id="last-reset-date" class="text-xs text-gray-400">--</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Histórico de Alertas -->
                    <div class="mt-6">
                        <h4 class="text-sm font-medium text-gray-400 mb-4">📈 Histórico de Alertas (Últimos 7 dias)</h4>
                        <div id="alerts-history" class="space-y-2 max-h-32 overflow-y-auto">
                            <div class="flex items-center justify-between p-2 bg-gray-500/10 rounded text-xs">
                                <span class="text-gray-300">Hoje 14:30 - Lazer excedeu 100% (R$ 650/R$ 500)</span>
                                <span class="text-red-400">Crítico</span>
                            </div>
                            <div class="flex items-center justify-between p-2 bg-gray-500/10 rounded text-xs">
                                <span class="text-gray-300">Ontem 16:45 - Transporte atingiu 80% (R$ 320/R$ 400)</span>
                                <span class="text-yellow-400">Aviso</span>
                            </div>
                            <div class="flex items-center justify-between p-2 bg-gray-500/10 rounded text-xs">
                                <span class="text-gray-300">2 dias atrás 12:15 - Alimentação atingiu 75% (R$ 375/R$ 500)</span>
                                <span class="text-yellow-400">Aviso</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Métricas Detalhadas -->
            <div class="grid grid-cols-1 lg:grid-cols-3 gap-6">
                <div class="glass-card">
                    <h3 class="font-mono font-semibold mb-4 neon-text">📊 Análise de Performance</h3>
                    <div class="space-y-4">
                        <div class="flex justify-between items-center">
                            <span class="text-sm text-gray-400">Crescimento Patrimonial</span>
                            <span id="wealth-growth" class="font-mono text-green-400">+15.2%</span>
                        </div>
                        <div class="flex justify-between items-center">
                            <span class="text-sm text-gray-400">Eficiência de Gastos</span>
                            <span id="expense-efficiency" class="font-mono text-blue-400">87%</span>
                        </div>
                        <div class="flex justify-between items-center">
                            <span class="text-sm text-gray-400">Diversificação</span>
                            <span id="diversification" class="font-mono text-purple-400">92%</span>
                        </div>
                        <div class="flex justify-between items-center">
                            <span class="text-sm text-gray-400">Liquidez</span>
                            <span id="liquidity" class="font-mono text-cyan-400">6.2 meses</span>
                        </div>
                    </div>
                </div>
                
                <div class="glass-card">
                    <h3 class="font-mono font-semibold mb-4 neon-text">🎯 Metas e Objetivos</h3>
                    <div id="executive-goals-container" class="space-y-4">
                        <p class="text-gray-400 text-center py-8">Nenhuma meta cadastrada ainda.<br>Vá para a aba "Cofrinhos" para criar suas metas.</p>
                    </div>
                </div>
                
                <div class="glass-card">
                    <h3 class="font-mono font-semibold mb-4 neon-text">⚡ Insights Rápidos</h3>
                    <div id="executive-insights" class="space-y-3 text-sm">
                        <div class="p-3 bg-green-500/20 rounded-lg border border-green-400/30">
                            <p class="text-green-300 font-semibold">✓ Meta de poupança atingida</p>
                            <p class="text-gray-400">Você economizou 23% da renda este mês</p>
                        </div>
                        <div class="p-3 bg-blue-500/20 rounded-lg border border-blue-400/30">
                            <p class="text-blue-300 font-semibold">📈 Crescimento consistente</p>
                            <p class="text-gray-400">Patrimônio cresceu 15% nos últimos 6 meses</p>
                        </div>
                        <div class="p-3 bg-yellow-500/20 rounded-lg border border-yellow-400/30">
                            <p class="text-yellow-300 font-semibold">⚠️ Atenção: Categoria Lazer</p>
                            <p class="text-gray-400">Gastos 40% acima da média histórica</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div id="transaction-modal" class="modal-backdrop hidden fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-70 p-4 opacity-0">
        <div class="modal-content transform scale-95 -translate-y-10 glass p-6 w-full max-w-md md:max-w-2xl max-h-[90vh] overflow-y-auto">
            <h2 id="modal-title" class="font-mono text-2xl font-bold mb-6 neon-text">Adicionar Transação</h2>
            <form id="transaction-form" class="space-y-4">
                <input type="hidden" id="transaction-id"><input type="hidden" id="transaction-type" value="expense">
                <div><label for="description" class="form-label">Descrição</label><input type="text" id="description" class="form-input" required></div>
                <div><label for="amount" class="form-label">Valor (R$)</label><input type="number" id="amount" step="0.01" class="form-input" required></div>
                <div><label for="category" class="form-label">Categoria</label><div class="flex items-center space-x-2"><input type="text" id="category" list="category-suggestions" class="form-input" required><button type="button" id="suggest-category-btn" title="Sugerir Categoria com IA" class="mt-1 px-3 py-2 bg-cyan-900/50 text-cyan-300 rounded-md disabled:opacity-50 disabled:cursor-not-allowed text-lg transition hover:scale-110">✨</button></div><datalist id="category-suggestions"></datalist></div>
                <div><label for="tags" class="form-label">Tags (separadas por vírgula)</label><input type="text" id="tags" class="form-input" placeholder="ex: urgente, trabalho, casa"><div class="mt-2"><div id="tag-suggestions" class="flex flex-wrap gap-1"></div></div></div>
                <div><label for="date" id="date-label" class="form-label">Data</label><input type="date" id="date" class="form-input" required></div>
                <div id="options-section" class="space-y-4 border-t border-cyan-500/20 pt-4"><div id="installments-section"><div class="flex items-center"><input type="checkbox" id="is-installment" class="h-4 w-4 text-cyan-600 border-gray-300 rounded focus:ring-cyan-500"><label for="is-installment" class="ml-2 block text-sm">Compra parcelada?</label></div><div id="installments-count-container" class="mt-4 hidden"><label for="installments-count" class="form-label">Número de parcelas</label><input type="number" id="installments-count" min="2" max="72" class="form-input"></div></div><div id="recurring-section"><div class="flex items-center"><input type="checkbox" id="is-recurring" class="h-4 w-4 text-cyan-600 border-gray-300 rounded focus:ring-cyan-500"><label for="is-recurring" class="ml-2 block text-sm">É uma despesa recorrente?</label></div></div></div>
                <div class="flex justify-end space-x-4 pt-4"><button type="button" id="cancel-btn" class="btn btn-ghost">Cancelar</button><button type="submit" id="save-btn" class="btn btn-primary">Salvar</button></div>
            </form>
        </div>
    </div>
    <div id="delete-confirm-modal" class="modal-backdrop hidden fixed inset-0 z-[9999] flex items-center justify-center bg-black bg-opacity-70 p-4 opacity-0">
        <div class="modal-content transform scale-95 -translate-y-10 glass p-6 w-full max-w-md max-h-[90vh] overflow-y-auto">
            <h2 id="delete-modal-title" class="font-mono text-2xl font-bold mb-4 text-red-400">Confirmar Exclusão</h2>
            <p id="delete-modal-text" class="text-gray-400 mb-6">Tem certeza que deseja excluir?</p>
            <div class="flex justify-end space-x-4"><button type="button" id="cancel-delete-btn" class="btn btn-ghost">Cancelar</button><button type="button" id="confirm-delete-btn" class="btn btn-danger">Excluir</button></div>
        </div>
    </div>
    <div id="recurring-modal" class="modal-backdrop hidden fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-70 p-4 opacity-0">
        <div class="modal-content transform scale-95 -translate-y-10 glass p-6 w-full max-w-lg max-h-[90vh] overflow-y-auto">
            <h2 class="font-mono text-2xl font-bold mb-6 neon-text">Gerenciar Despesas Recorrentes</h2>
            <div id="recurring-list" class="space-y-3 max-h-96 overflow-y-auto pr-2"></div>
            <div class="flex justify-end mt-6"><button type="button" id="close-recurring-modal-btn" class="btn btn-ghost">Fechar</button></div>
        </div>
    </div>
    <div id="goal-modal" class="modal-backdrop hidden fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-70 p-4 opacity-0">
        <div class="modal-content transform scale-95 -translate-y-10 glass p-6 w-full max-w-md max-h-[90vh] overflow-y-auto">
            <h2 id="goal-modal-title" class="font-mono text-2xl font-bold mb-6 neon-text">Novo Cofrinho</h2>
            <form id="goal-form" class="space-y-4">
                <input type="hidden" id="goal-id">
                <div><label for="goal-name" class="form-label">Nome da Meta</label><input type="text" id="goal-name" class="form-input" required></div>
                <div><label for="goal-target" class="form-label">Valor da Meta (R$)</label><input type="number" id="goal-target" step="0.01" class="form-input" required></div>
                <div><label for="goal-initial-saved" class="form-label">Valor Inicial Guardado (R$)</label><input type="number" id="goal-initial-saved" step="0.01" placeholder="0.00" class="form-input"></div>
                <div><button type="button" id="create-plan-btn" class="w-full btn" style="background: linear-gradient(135deg, #8b5cf6 0%, #ec4899 100%); color: white;">✨ Criar Plano de Ação</button></div>
                <div id="action-plan-display" class="p-3 bg-slate-800/50 rounded-md hidden"></div>
                <div class="flex justify-end space-x-4 pt-4"><button type="button" id="cancel-goal-btn" class="btn btn-ghost">Cancelar</button><button type="submit" class="btn btn-primary">Salvar Cofrinho</button></div>
            </form>
        </div>
    </div>
    <div id="add-funds-modal" class="modal-backdrop hidden fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-70 p-4 opacity-0">
        <div class="modal-content transform scale-95 -translate-y-10 glass p-6 w-full max-w-md max-h-[90vh] overflow-y-auto">
            <h2 id="add-funds-modal-title" class="font-mono text-2xl font-bold mb-6 neon-text">Adicionar Dinheiro</h2>
            <form id="add-funds-form">
                <input type="hidden" id="add-funds-goal-id">
                <div class="mb-6"><label for="add-funds-amount" class="form-label">Valor a Adicionar (R$)</label><input type="number" id="add-funds-amount" step="0.01" class="form-input" required></div>
                <div class="flex justify-end space-x-4"><button type="button" id="cancel-add-funds-btn" class="btn btn-ghost">Cancelar</button><button type="submit" class="btn btn-primary">Adicionar</button></div>
            </form>
        </div>
    </div>
    <div id="report-modal" class="modal-backdrop hidden fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-70 p-4 opacity-0">
        <div class="modal-content transform scale-95 -translate-y-10 glass p-6 w-full max-w-md max-h-[90vh] overflow-y-auto">
            <h2 class="font-mono text-2xl font-bold mb-6 neon-text">Gerar Relatório de Despesas</h2>
            <form id="report-form" class="space-y-4">
                <div><label for="report-type" class="form-label">Tipo de Relatório</label><select id="report-type" class="form-select w-full p-3 rounded-lg bg-white/5 border border-white/10 text-black"><option value="monthly">Mensal</option><option value="annual">Anual</option></select></div>
                <div id="report-month-container"><label for="report-month" class="form-label">Mês</label><input type="month" id="report-month" class="form-input"></div>
                <div id="report-year-container" class="hidden"><label for="report-year" class="form-label">Ano</label><input type="number" id="report-year" placeholder="Ex: 2025" class="form-input"></div>
                <div class="flex items-center pt-2"><input type="checkbox" id="include-ai-analysis" class="h-4 w-4 text-cyan-600 rounded focus:ring-cyan-500"><label for="include-ai-analysis" class="ml-2 block text-sm">Incluir análise com IA</label></div>
                <div class="flex justify-end space-x-4 pt-4"><button type="button" id="cancel-report-btn" class="btn btn-ghost">Cancelar</button><button type="submit" id="generate-pdf-btn" class="btn btn-primary disabled:opacity-50">Gerar PDF</button></div>
            </form>
        </div>
    </div>
    <div id="view-plan-modal" class="modal-backdrop hidden fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-70 p-4 opacity-0">
        <div class="modal-content transform scale-95 -translate-y-10 glass p-6 w-full max-w-lg max-h-[90vh] overflow-y-auto">
            <h2 id="view-plan-title" class="font-mono text-2xl font-bold mb-6 neon-text">Plano de Ação</h2>
            <div id="view-plan-list" class="space-y-2 text-gray-300"></div>
            <div class="flex justify-end mt-6"><button type="button" id="close-view-plan-btn" class="btn btn-ghost">Fechar</button></div>
        </div>
    </div>

    <div id="category-manager-modal" class="modal-backdrop hidden fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-70 p-4 opacity-0">
        <div class="modal-content transform scale-95 -translate-y-10 glass p-6 w-full max-w-lg max-h-[90vh] overflow-y-auto">
            <div class="flex justify-between items-center mb-6">
                <h2 class="font-mono text-2xl font-bold neon-text">Gerenciar Categorias</h2>
                <button type="button" id="add-new-category-btn" class="btn btn-primary">Adicionar Nova</button>
            </div>
            <div id="category-list" class="space-y-3 max-h-96 overflow-y-auto pr-2"></div>
            <div class="flex justify-end mt-6"><button type="button" id="close-category-manager-btn" class="btn btn-ghost">Fechar</button></div>
        </div>
    </div>
    <div id="category-edit-modal" class="modal-backdrop hidden fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-70 p-4 opacity-0">
        <div class="modal-content transform scale-95 -translate-y-10 glass p-6 w-full max-w-md max-h-[90vh] overflow-y-auto">
            <h2 id="category-edit-modal-title" class="font-mono text-2xl font-bold mb-6 neon-text">Nova Categoria</h2>
            <form id="category-edit-form">
                <input type="hidden" id="category-edit-id">
                <div class="mb-4">
                    <label for="category-name-input" class="form-label">Nome da Categoria</label>
                    <input type="text" id="category-name-input" class="form-input" required>
                </div>
                <div class="mb-6">
                    <label for="category-color-input" class="form-label">Cor</label>
                    <input type="color" id="category-color-input" value="#4f46e5" class="mt-1 block w-full h-10 px-1 py-1 border-cyan-700/50 rounded-md cursor-pointer bg-transparent">
                </div>
                <div class="flex justify-end space-x-4">
                    <button type="button" id="cancel-category-edit-btn" class="btn btn-ghost">Cancelar</button>
                    <button type="submit" class="btn btn-primary">Salvar</button>
                </div>
            </form>
        </div>
    </div>
    <div id="budget-modal" class="modal-backdrop hidden fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-70 p-4 opacity-0">
        <div class="modal-content transform scale-95 -translate-y-10 glass p-6 w-full max-w-lg">
            <h2 class="font-mono text-2xl font-bold mb-6 neon-text">Definir Orçamentos do Mês</h2>
            <form id="budget-form">
                <div id="budget-form-inputs" class="space-y-4 max-h-96 overflow-y-auto pr-2"></div>
                <div class="flex justify-end space-x-4 mt-6 pt-4 border-t border-cyan-500/20">
                    <button type="button" id="cancel-budget-btn" class="btn btn-ghost">Cancelar</button>
                    <button type="submit" class="btn btn-primary">Salvar Orçamentos</button>
                </div>
            </form>
        </div>
    </div>
    
    <!-- Modal de Configuração de Limites de Gastos -->
    <div id="expense-alerts-modal" class="modal-backdrop hidden fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-70 p-4 opacity-0">
        <div class="modal-content transform scale-95 -translate-y-10 glass p-6 w-full max-w-lg">
            <h2 class="font-mono text-2xl font-bold mb-6 neon-text">⚙️ Configurar Limites de Gastos</h2>
            <div class="space-y-4 max-h-96 overflow-y-auto pr-2">
                <div>
                    <label class="form-label">Limite Diário (R$)</label>
                    <input type="number" id="daily-limit" class="form-input" placeholder="Ex: 100" step="0.01">
                    <p class="text-sm text-gray-400 mt-1">Alerta quando gastos do dia excederem este valor</p>
                </div>
                
                <div>
                    <label class="form-label">Limite Semanal (R$)</label>
                    <input type="number" id="weekly-limit" class="form-input" placeholder="Ex: 500" step="0.01">
                    <p class="text-sm text-gray-400 mt-1">Alerta quando gastos da semana excederem este valor</p>
                </div>
                
                <div>
                    <label class="form-label">Limite Mensal (R$)</label>
                    <input type="number" id="monthly-limit" class="form-input" placeholder="Ex: 2000" step="0.01">
                    <p class="text-sm text-gray-400 mt-1">Alerta quando gastos do mês excederem este valor</p>
                </div>
                
                <div>
                    <label class="form-label">Categorias para Monitorar</label>
                    <div id="alert-categories-list" class="space-y-2 max-h-32 overflow-y-auto border border-gray-600 rounded-lg p-3">
                        <!-- Categorias serão carregadas dinamicamente -->
                    </div>
                    <p class="text-sm text-gray-400 mt-1">Selecione as categorias que deseja monitorar</p>
                </div>
                
                <div class="flex items-center space-x-3">
                    <input type="checkbox" id="enable-push-alerts" class="form-checkbox">
                    <label for="enable-push-alerts" class="text-sm">Receber notificações push</label>
                </div>
                
                <div class="flex items-center space-x-3">
                    <input type="checkbox" id="enable-sound-alerts" class="form-checkbox">
                    <label for="enable-sound-alerts" class="text-sm">Alertas sonoros</label>
                </div>
            </div>
            
            <div class="flex justify-end space-x-4 mt-6 pt-4 border-t border-cyan-500/20">
                <button type="button" id="cancel-expense-alerts-btn" class="btn btn-ghost">Cancelar</button>
                <button type="button" id="save-expense-alerts-btn" class="btn btn-primary">Salvar Configurações</button>
            </div>
        </div>
    </div>
    
    <!-- Modal de Lembrete de Pagamento -->
    <div id="reminder-modal" class="modal-backdrop hidden fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-70 p-4 opacity-0">
        <div class="modal-content transform scale-95 -translate-y-10 glass p-6 w-full max-w-md max-h-[85vh] overflow-y-auto">
            <h2 id="reminder-modal-title" class="font-mono text-2xl font-bold mb-6 neon-text">Novo Lembrete de Pagamento</h2>
            <form id="reminder-form">
                <div class="form-group mb-4">
                    <label for="reminder-title" class="form-label block text-sm font-medium text-gray-300 mb-2">Título do Pagamento</label>
                    <input type="text" id="reminder-title" class="form-input w-full p-3 rounded-lg bg-white/5 border border-white/10 text-white placeholder-gray-400" placeholder="Ex: Cartão de Crédito" required>
                </div>
                <div class="form-group mb-4">
                    <label for="reminder-amount" class="form-label block text-sm font-medium text-gray-300 mb-2">Valor</label>
                    <input type="number" id="reminder-amount" class="form-input w-full p-3 rounded-lg bg-white/5 border border-white/10 text-white placeholder-gray-400" placeholder="0,00" step="0.01" required>
                </div>
                <div class="form-group mb-4">
                    <label for="reminder-due-date" class="form-label block text-sm font-medium text-gray-300 mb-2">Data de Vencimento</label>
                    <input type="date" id="reminder-due-date" class="form-input w-full p-3 rounded-lg bg-white/5 border border-white/10 text-white" required>
                </div>
                <div class="form-group mb-4">
                    <label for="reminder-category" class="form-label block text-sm font-medium text-gray-300 mb-2">Categoria</label>
                    <select id="reminder-category" class="form-select w-full p-3 rounded-lg bg-white/5 border border-white/10" required>
                        <option value="">Selecione uma categoria</option>
                        <option value="Cartão de Crédito">Cartão de Crédito</option>
                        <option value="Financiamento">Financiamento</option>
                        <option value="Aluguel">Aluguel</option>
                        <option value="Utilities">Contas Básicas</option>
                        <option value="Seguros">Seguros</option>
                        <option value="Assinaturas">Assinaturas</option>
                        <option value="Outros">Outros</option>
                    </select>
                </div>
                <div class="form-group mb-4">
                    <label for="reminder-frequency" class="form-label block text-sm font-medium text-gray-300 mb-2">Frequência</label>
                    <select id="reminder-frequency" class="form-select w-full p-3 rounded-lg bg-white/5 border border-white/10">
                        <option value="once">Uma vez</option>
                        <option value="monthly" selected>Mensal</option>
                        <option value="quarterly">Trimestral</option>
                        <option value="yearly">Anual</option>
                    </select>
                </div>
                <div class="form-group mb-4">
                    <label for="reminder-alert-days" class="form-label block text-sm font-medium text-gray-300 mb-2">Alertar com antecedência</label>
                    <select id="reminder-alert-days" class="form-select w-full p-3 rounded-lg bg-white/5 border border-white/10 text-white">
                        <option value="1">1 dia</option>
                        <option value="3" selected>3 dias</option>
                        <option value="7">7 dias</option>
                        <option value="15">15 dias</option>
                    </select>
                </div>
                <div class="form-group mb-6">
                    <label for="reminder-notes" class="form-label block text-sm font-medium text-gray-300 mb-2">Observações (opcional)</label>
                    <textarea id="reminder-notes" class="form-input w-full p-3 rounded-lg bg-white/5 border border-white/10 text-white placeholder-gray-400" rows="3" placeholder="Notas adicionais sobre este pagamento..."></textarea>
                </div>
                <div class="flex justify-end space-x-4">
                    <button type="button" id="cancel-reminder-btn" class="btn btn-ghost">Cancelar</button>
                    <button type="submit" class="btn btn-primary">Salvar Lembrete</button>
                </div>
            </form>
        </div>
    </div>

    <!-- Modal Alterar Senha -->
    <div id="change-password-modal" class="modal-backdrop hidden fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-70 p-4 opacity-0">
        <div class="modal-content transform scale-95 -translate-y-10 glass p-6 w-full max-w-md">
            <div class="flex justify-between items-center mb-6">
                <h2 class="font-mono text-2xl font-bold neon-text">🔐 Alterar Senha</h2>
                <button id="close-change-password-btn" class="text-gray-400 hover:text-white">
                    <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path>
                    </svg>
                </button>
            </div>
            
            <form id="change-password-form" class="space-y-4">
                <div class="form-group">
                    <label for="current-password" class="form-label">Senha Atual</label>
                    <input type="password" id="current-password" class="form-input w-full" placeholder="Digite sua senha atual" required>
                </div>
                
                <div class="form-group">
                    <label for="new-password" class="form-label">Nova Senha</label>
                    <div class="relative">
                        <input type="password" id="new-password" class="form-input w-full pr-10" placeholder="Digite a nova senha" required>
                        <button type="button" id="toggle-new-password" class="absolute inset-y-0 right-0 pr-3 flex items-center text-gray-400 hover:text-white">
                            <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z"></path>
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"></path>
                            </svg>
                        </button>
                    </div>
                    
                    <!-- Indicador de Força da Senha -->
                    <div class="mt-2">
                        <div class="flex space-x-1 mb-1">
                            <div id="strength-bar-1" class="h-1 flex-1 bg-gray-600 rounded"></div>
                            <div id="strength-bar-2" class="h-1 flex-1 bg-gray-600 rounded"></div>
                            <div id="strength-bar-3" class="h-1 flex-1 bg-gray-600 rounded"></div>
                            <div id="strength-bar-4" class="h-1 flex-1 bg-gray-600 rounded"></div>
                        </div>
                        <div id="password-strength-text" class="text-xs text-gray-400">Digite uma senha</div>
                    </div>
                </div>
                
                <div class="form-group">
                    <label for="confirm-new-password" class="form-label">Confirmar Nova Senha</label>
                    <input type="password" id="confirm-new-password" class="form-input w-full" placeholder="Confirme a nova senha" required>
                </div>
                
                <div class="p-3 bg-blue-500/10 rounded-lg border border-blue-400/20">
                    <h4 class="font-semibold text-blue-300 mb-2 text-sm">💡 Dicas de Segurança</h4>
                    <ul class="text-xs text-gray-400 space-y-1">
                        <li>• Use pelo menos 8 caracteres</li>
                        <li>• Combine letras maiúsculas e minúsculas</li>
                        <li>• Inclua números e símbolos especiais</li>
                        <li>• Evite informações pessoais óbvias</li>
                    </ul>
                </div>
                
                <div id="change-password-error" class="text-red-400 text-sm text-center hidden"></div>
                <div id="change-password-success" class="text-green-400 text-sm text-center hidden"></div>
                
                <div class="flex space-x-3 pt-4">
                    <button type="button" id="cancel-change-password-btn" class="btn btn-secondary flex-1">Cancelar</button>
                    <button type="submit" id="submit-change-password-btn" class="btn btn-primary flex-1">
                        <span id="change-password-text">🔄 Alterar Senha</span>
                        <span id="change-password-loading" class="hidden">
                            <svg class="animate-spin -ml-1 mr-3 h-5 w-5 text-white inline" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24">
                                <circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle>
                                <path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path>
                            </svg>
                            Alterando...
                        </span>
                    </button>
                </div>
            </form>
        </div>
    </div>
</body>
</html>

