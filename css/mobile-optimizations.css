/* Melhor área de toque para botões */
.btn {
    min-height: 44px; /* Padrão iOS/Android */
    min-width: 44px;
    touch-action: manipulation; /* Evita zoom duplo-toque */
}

/* Gestos de swipe para navegação */
.swipe-container {
    touch-action: pan-x;
    overflow-x: hidden;
}

/* Feedback tátil visual */
.btn:active {
    transform: scale(0.95);
    transition: transform 0.1s ease;
}

/* Melhor scroll em listas */
.transactions-list {
    -webkit-overflow-scrolling: touch;
    scroll-behavior: smooth;
}

/* Otimizações adicionais para mobile */

/* Prevenção de zoom acidental */
* {
    -webkit-touch-callout: none;
    -webkit-user-select: none;
    -khtml-user-select: none;
    -moz-user-select: none;
    -ms-user-select: none;
    user-select: none;
}

/* Permitir seleção em inputs e textos */
input, textarea, [contenteditable] {
    -webkit-user-select: text;
    -moz-user-select: text;
    -ms-user-select: text;
    user-select: text;
}

/* Otimização de performance para animações */
.glass-card, .btn, .modal {
    will-change: transform;
    transform: translateZ(0);
    backface-visibility: hidden;
}

/* Scroll suave para toda a aplicação */
html {
    scroll-behavior: smooth;
    -webkit-overflow-scrolling: touch;
}

/* Otimização de tap highlight */
* {
    -webkit-tap-highlight-color: rgba(0, 0, 0, 0);
    -webkit-focus-ring-color: rgba(0, 0, 0, 0);
    outline: none;
}

/* Feedback visual para elementos interativos */
.interactive:active {
    opacity: 0.7;
    transform: scale(0.98);
}

/* Otimização para charts em mobile */
canvas {
    touch-action: none;
    max-width: 100%;
    height: auto;
}

/* Pull to refresh indicator */
.pull-to-refresh {
    position: fixed;
    top: -60px;
    left: 50%;
    transform: translateX(-50%);
    width: 40px;
    height: 40px;
    border-radius: 50%;
    background: var(--primary-gradient);
    display: flex;
    align-items: center;
    justify-content: center;
    color: white;
    font-size: 18px;
    transition: top 0.3s ease;
    z-index: 1001;
}

.pull-to-refresh.active {
    top: 20px;
}

/* Haptic feedback simulation */
@keyframes haptic {
    0% { transform: translateX(0); }
    25% { transform: translateX(-2px); }
    75% { transform: translateX(2px); }
    100% { transform: translateX(0); }
}

.haptic-feedback {
    animation: haptic 0.1s ease-in-out;
}

/* Otimização para modais em mobile */
@media (max-width: 768px) {
    .modal {
        position: fixed !important;
        top: 0 !important;
        left: 0 !important;
        width: 100% !important;
        height: 100% !important;
        border-radius: 0 !important;
        max-width: none !important;
        max-height: none !important;
        overflow-y: auto;
    }
    
    .modal .glass {
        border-radius: 0;
        height: 100%;
        display: flex;
        flex-direction: column;
    }
    
    .modal .glass > * {
        flex-shrink: 0;
    }
}

/* Focus visível para acessibilidade */
.btn:focus, input:focus, select:focus {
    outline: 2px solid var(--neon-blue);
    outline-offset: 2px;
}

/* Otimização para dispositivos com notch */
@supports (padding: max(0px)) {
    .container {
        padding-left: max(20px, env(safe-area-inset-left));
        padding-right: max(20px, env(safe-area-inset-right));
    }
    
    header {
        padding-top: max(20px, env(safe-area-inset-top));
    }
    
    .mobile-bottom-nav {
        padding-bottom: max(8px, env(safe-area-inset-bottom));
    }
}

/* Otimização de imagens para mobile */
img, canvas {
    max-width: 100%;
    height: auto;
    image-rendering: -webkit-optimize-contrast;
    image-rendering: crisp-edges;
}

/* Prevenção de bounce scroll no iOS */
body {
    overscroll-behavior: none;
    -webkit-overflow-scrolling: touch;
}

/* Otimização de modais para mobile */
.modal {
    -webkit-overflow-scrolling: touch;
    overscroll-behavior: contain;
}

/* Melhor performance para listas longas */
.transaction-item {
    contain: layout style paint;
    will-change: transform;
}

/* Otimização de charts para mobile */
canvas {
    touch-action: none;
    user-select: none;
}

/* Pull-to-refresh indicator */
.pull-to-refresh {
    position: fixed;
    top: -60px;
    left: 50%;
    transform: translateX(-50%);
    width: 40px;
    height: 40px;
    border-radius: 50%;
    background: var(--primary-gradient);
    display: flex;
    align-items: center;
    justify-content: center;
    color: white;
    font-size: 18px;
    transition: top 0.3s ease;
    z-index: 9999;
}

.pull-to-refresh.active {
    top: 20px;
}

/* Haptic feedback simulation */
@keyframes haptic-feedback {
    0% { transform: scale(1); }
    50% { transform: scale(0.98); }
    100% { transform: scale(1); }
}

.haptic-feedback {
    animation: haptic-feedback 0.1s ease;
}

/* Otimização para telas de alta densidade */
@media (-webkit-min-device-pixel-ratio: 2), (min-resolution: 192dpi) {
    .glass-card {
        border-width: 0.5px;
    }
    
    .btn {
        border-width: 0.5px;
    }
}

/* Otimização para modo paisagem */
@media (orientation: landscape) and (max-height: 500px) {
    .splash-logo {
        font-size: 2rem;
    }
    
    .glass-card {
        padding: 16px;
    }
    
    .modal .glass {
        max-height: 80vh;
        overflow-y: auto;
    }
}

/* Otimização para dispositivos pequenos */
@media (max-width: 320px) {
    .btn {
        padding: 10px 12px;
        font-size: 0.85rem;
    }
    
    .glass-card {
        padding: 12px;
    }
    
    .text-2xl {
        font-size: 1.1rem;
    }
}